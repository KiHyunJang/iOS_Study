# 객체지향의 사실과 오해 2장
   
이 책에선 객체를 이상한 나라의 엘리스를 통해 엘리스라는 객체에 대해 설명한다. 내용은 아래와 같다.   
1.객체는 상태를 가지며 상태는 변경 가능하다.   
2.상태를 변경시키는 것은 행동이다.   
3.행동의 결과는 상태에 의존적이며 상태를 이용해 서술이 가능하다.   
4.행동의 순서가 결과에 영향을 미친다.   
5.어떤 상태에 있더라도 유일하게 식별이 가능하다.   
   
## 상태
인간은 행동의 과정과 결과를 단순하게 기술하기 위해 상태라는 개념을 고안했다. 상태를 통해 과거에 얽메이지 않고 현재를 기반으로 객체의 행동 방식을 이해한다.   
   
객체와 객체 사이의 의미있는 연결을 링크라고 하는데, 링크가 있어야만 요청, 즉 메세지를 주고받을 수 있다.   
   
객체 간의 선으로 표현되는 링크와 달리 객체를 구성하는 단순한 값은 속성이라고 한다.   
   
이 책에서 객체의 상태를 다음과 같이 정의한다.   
상태는 특정 시점의 객체가 가지고 있는 데이터의 집합으로 객체의 구조적 특징을 표현한다. 객체의 상태는 객체에 존재하는 정적 프로퍼티와, 동적 프로퍼티 값으로 구성된다.   
객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분할 수 있다.   
   
객체는 자율적인 존재이며, 객체지향은 다른 객체의 상태에 직접적으로 접근할 수도, 상태를 변경할 수 없으며, 자율적인 객체는 스스로 자신의 상태를 책임져야 한다.   
   
## 행동
객체의 상태는 객체의 행동으로 변경된다.   
   
객체가 협력하는 과정에서 자신의 상태뿐만 아니라 다른 객체의 상태도 변경시킬 수 있다.   
   
객체의 행동으로 발생하는 결과엔 두가지 관점에서 설명이 가능하다.   
1.객체 자신의 상태 변경   
2.행동 내에서 협력하는 다른 객체에 대한 메세지 전송   
   
이 책에선 행동을 다음과 같이 정의한다.   
행동이란 외부의 요청 또는 수신된 메세지에 응답하기 위해 동작하고 반응하는 활동이다.   
행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메시지를 전달할 수 있다.   
객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 한다.   
   
## 상태 캡슐화
객체는 상태를 캡슐 안에 감춰둔 채 외부로 노출하지않는다.   
객체가 외부로 노출하는 것은 행동뿐이며, 외부에서 객체에 접근할 수 있는 유일한 방법은 행동뿐이다.   
   
객체에게 행동을 유발하는 것은 외부로부터 전달된 메세지지만 객체의 상태를 변경할지 여부는 객체 스스로 결정하며 객체에게 메세지를 전달하는 외부의 객체는 메세지를 수신하는 객체의 상태가 변경된다는 것을 모른다.   
   
상태를 외부에 노출하지 않고 행동을 경계로 캡슐화하는 것은 결과적으로 객체의 자율성을 높인다.   
   
상태를 잘 정의된 행동 뒤로 캡슐화하는 것은 객체의 자율성을 높이고 협력을 단순하고 유연하게 만든다.   
   
## 행동이 상태를 결정한다
상태를 결정하고 행동을 결정하는 것은 설계에 나쁜 영향을 미친다. 그 이유는 세 가지가 있다.   
   
첫 번째, 상태를 먼저 정하면 캡슐화가 저해된다.   
상태에 초점을 맞출 경우 객체 내부로 깔끔하게 캡슐화되지 못한다.   
   
두 번째, 객체를 협력자가 아니게된다.   
객체는 앱에서 다른 객체와 협력하기 위해 존재하는데, 상태를 먼저 고려하는 방식은 협력이라는 문맥에서 멀리 벗어난 채 객체를 설계함으로써 협력에 적합하지 못한 객체를 만들게 된다.   
   
세 번째, 객체의 재사용성이 저하된다.   
객체의 재사용성은 다양한 협력에 참여할 수 있는 능력에서 나오는데 상태에 초점을 맞춘 객체는 다양한 협력에 참여하기 어렵기 때문에 재사용성이 저하된다.   
   
결국 객체는 협력하기위한 존재이므로, 객체가 적합한지 결정하는 것은 객체의 상태가 아니라 행동이다.   
객체지향 설계는 앱에서 필요한 협력을 생각하고 협력에 참여하는 데 필요한 행동을 생각한 후 수행할 객체를 선택하는 방식으로 수행된다.   
행동을 결정한 후에야 행동에 필요한 정보를 고려하게 되며 이 과정에서 필요한 상태가 결정되는 것이다.   
   
협력 안에서 객체의 행동은 객체가 협력에 참여하면서 완수해야하는 책임을 의미한다.   
따라서 어떤 책임이 필요한가를 결정하는 과정이 전체 설계를 주도해야한다.   
   
이번 장에서 가장 중요한 문장은 행동이 상태를 결정한다이다.   
   
## 새로운 세계를 창조하라
객체지향 설계자로서 우리의 목적은 현실을 모방하는 것이 아니다.   
단지 새로운 세계를 창조하는 것이다.   
현실을 닮아야 한다는 어떤 제약과 구속도 없다.   
우리가 창조한 객체의 특성을 상기시킬 수만 있다면 현실 속의 객체의 이름을 이용해 객체를 묘사하고, 아니라면 깔끔하게 현실을 무시하고 새로운 세계를 창조하라.   
