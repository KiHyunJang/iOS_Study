# 객체지향의 사실과 오해 1장
## 협력하는 객체들의 공동체
객체지향의 목표는 실세계를 모방하는 것이아니라, 새로운 세계를 창조하는 것이다.   
하지만 객체를 스스로 생각하고 스스로 결정하는 현실세계의 생명체에 비유하는 것은 상태와 행위를 '캡슐화'하는 소프트웨어의 '자율성'을 설명하는데 효과적이며, 암묵적인 약속, 명시적인 계약을 기반으로 협력하며 목표를 달성해나가는 '메세지'를 주고받으며 공동의 목표를 달성하기위해 협력하는 객체들을 설명하기에 적합하다.
결국 실세계의 모방이라는 개념은 실용적인 관점에서는 부적합하지만 객체지향 설계의 핵심 사상인 '연결완전성'을 설명하는 데 적합한 틀을 제공한다.   
   
## 역할, 책임, 협력
객체지향에서 가장 중요한 개념 세 가지는 역할,책임,협력이다.   
본문에서는 카페를 예로 든다.   
1.손님이 커피를 주문한다.   
2.캐시어가 손님에게 주문받은 커피를 바리스타에게 전달.   
3.커피를 제조 후 캐시어에게 전달.   
4.캐시어는 손님에게 알리기위해 진동벨을 울림.   
   
위 상황을 보자면,    
손님은 커피를 주문할 책임이 있으며,   
캐시어는 주문 내용을 바리스타에게 전달할 책임과 커피가 준비되었다는 사실을 손님에게 알릴 책임이 있고,   
바리스타는 커피를 제조하고 커피가 준비된 것을 캐시어에게 알릴 책임이 있다.   
역할과 책임은 협력이 원활하게 진행되는 데 필요한 핵심적인 구성 요소이다.   
   
결론적으로,   
1.여러 사람이 동일한 역할을 수행할 수 있다.   
손님 입장에서 자신이 주문한 커피만 마실 수 있다면, 어떤 캐시어가 주문을 받는지 중요하지않다.   
캐시어 입장에서도 자신이 전달한 주문 내역에 맞게 커피만 제조할 수 있다면 어떤 바리스타가 제조하더라도 크게 상관하지 않는다.   
각 역할에서 책임을 성실히 이행만 한다면 된다.   
   
2.역할은 대체 가능성을 의미한다.   
손님 입장에서 캐시어는 대체 가능하다.   
동일한 역할만 수행할 수 있다면, 요청자 입장에서 어느 사람이 역할을 수행하더라도 문제가 되지 않는다.   
   
3.책임을 수행하는 방법은 자율적으로 선택할 수 있다.   
요청을 받은 사람들은 요청을 처리하는 방법을 자유롭게 선택할 수 있다.   
커피를 요청받은 바리스타는 자신만의 독특한 방법으로 향을 더 내거나, 아름다운 무늬를 넣을 수 있다. 중요한 것은 동일한 요청을 받더라도 바리스타의 역할을 수행하는 사람들마다 서로 다른 방식으로 요청을 처리할 수 있다는 것이다.
이처럼 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 것을 다형성이라고 한다.   
   
4.한 사람이 동시에 여러 역할을 수행할 수 있다.   
손님이 주문하면, 캐시어의 역할을 하고, 바리스타의 역할까지도 할 수 있다. 회사에서는 사원이라는 역할을 수행하며, 집에서는 막내 아들이라는 역할을 수행한다.   
   
앞에서 이야기한 내용에서 사람을 객체, 요청을 메세지, 처리하는 방법을 메서드로 바꾸면 객체지향이라는 문맥으로 옮길 수 있다.   
이것이 객체지향을 설명하기 위해 실세계의 모방이라 한 것이다.   
   
## 협력 속에 사는 객체   
객체지향 프로그래밍의 윤곽을 결정하는 것은 역할, 책임, 협력이지만 실제로 협력을 하는 주체는 객체이다.   
객체지향 프로그래밍의 아름다움을 결정하는 것이 협력이라면, 협력이 얼마나 조화를 이루는지 결정하는 것은 객체이다.   
협력의 품질을 결정하는 것은 결국 객체의 품질이다.   
   
객체의 품질을 결정하는 것은 두 가지가 있다.   
첫 번째로 협력적이어야 한다는 것이다.   
다른 객체의 명령에 따라 행동하는 수동적인 존재가 아니라, 요청에 응답할 뿐이다. 요청에 응할지의 여부도 객체 스스로 결정할 수 있다.   
두 번째로는 자율적이어야 한다는 것이다.   
객체 스스로 원칙에 따라 어떤 일을 하거나 자기 스스로 통제하는 것이다.   
   
## 상태와 행동을 함께지닌 객체
흔히 객체를 상태와 행동을 함께 지닌 실체라고 정의한다.   
이 말은 객체가 협력에 참여하기 위해 어떤 행동을 해야한다면 그 행동을 하는 데 필요한 상태도 가져야한다는 의미이다.   
그리고 객체의 자율성은 객체의 내부와 외부를 명확하게 구분해야하는 것으로부터 나온다.   
객체의 내부는 객체 스스로 관리하고 외부에서 일체 간섭할 수 없도록 차단해야하며, 객체의 외부에서는 접근이 허락된 수단을 통해서만 객체와 소통을 해야한다.   
객체는 다른 객체가 무엇을 수행하는지 알 수 있지만, 어떻게 수행하는지에는 알 수 없다.   
   
## 메세지의 자율성
메세지와 메서드의 분리는 객체의 협력에 참여하는 객체들 간의 자율성을 올려준다.   
외부의 요청이 무엇인지 표현하는 메세지와 요청을 처리하기 위한 구체적인 방법인 메서드를 분리하는 것은 객체의 자율성을 높이는 핵심적인 매커니즘이다.   
이 매커니즘은 캡슐화라는 개념과 깊이 관련되어있다.   
   
## 객체지향의 본질   
앞서 나온 내용을 정리한다.   
   
객체지향이란 시스템과 상호작용을 하는 자율적인 객체들의 공동체이며, 객체를 이용해 시스템을 분할하는 방법이다.   
   
자율적인 객체란 상태와 행위를 함께 가지고 있으며, 스스로 자기 자신을 책임지는 객체이다.   
   
객체는 시스템의 행위를 구현하기 위해 다른 객체들과 협력한다.   
각 객체는 협력내에서 정해진 역할을 수행하며 역할은 책임의 집합이다.   
   
객체는 다른 객체와 협력하기위해 메세지를 전송하고, 메세지를 수신한 객체는 메세지를 처리하는 데 적한한 메서드를 자율적으로 선택한다.   
   
좋은 객체지향 설계자가 되기 위해서는 코드를 담는 클래스 중심의 관점에서 매세지를 주고받는 객체의 관점으로 사고의 중심을 전환하는 것이다. 중요한 것은 어떤 클래스가 필요한가가 아니라 어떤 객체들이 어떤 메세지를 주고받으며 협력하는 가이다. 클래스는 객체들의 협력 관계를 코드로 옮기는 도구에 불과하다.
다시 한번 말하지만 클래스의 구조와 메서드가 아닌 객체의 역할, 책임, 협력에 집중하라. 객체지향은 객체를 지향하는 것이다.   
